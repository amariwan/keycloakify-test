import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{r as j}from"./index-BlmOqGMO.js";import{k as d}from"./kc.gen-DublLCkN.js";import{B as N}from"./button-C_ykKUfv.js";import{I as v}from"./input-BUdNeJ3u.js";import{C as y}from"./checkbox-D-RZ_Qko.js";import{A as I,a as w}from"./alert-DzTKTOQa.js";import{L as c}from"./label-CPZjyMp-.js";import"./index-yBjzXJbu.js";import"./assert-lEPzpKR_.js";import"./iframe-DOGX7Igh.js";import"./index-Dv8KEsPl.js";import"./index-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./utils-CKXzwFwe.js";import"./createLucideIcon-C49h6iyD.js";import"./index-Cnu3ZVWt.js";import"./index-De3Pmiai.js";import"./index-DZ2oWOeb.js";import"./index-C6-d9oZJ.js";import"./index-RG4fqDpO.js";import"./index-fNjTmf9T.js";function L(o){const{kcContext:p,i18n:x,Template:u}=o,{social:i,realm:s,url:m,usernameHidden:n,login:l,registrationDisabled:h,messagesPerField:t}=p,{msg:r,msgStr:g}=x,[f,b]=j.useState(!1);return e.jsx(u,{...o,displayMessage:!t.existsError("username"),displayInfo:s.password&&s.registrationAllowed&&!h,infoNode:e.jsxs("span",{children:[r("noAccount")," ",e.jsx("a",{className:"text-blue-600 hover:underline",tabIndex:6,href:m.registrationUrl,children:r("doRegister")})]}),headerNode:r("doLogIn"),socialProvidersNode:e.jsx(e.Fragment,{children:s.password&&(i==null?void 0:i.providers)!==void 0&&i.providers.length!==0&&e.jsxs("div",{id:"kc-social-providers",className:"mt-6",children:[e.jsx("hr",{className:"my-6"}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("identity-provider-login-label")}),e.jsx("ul",{className:`grid ${i.providers.length>3?"grid-cols-2 gap-4":"grid-cols-1 gap-2"}`,children:i.providers.map(a=>e.jsx("li",{children:e.jsxs("a",{id:`social-${a.alias}`,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",href:a.loginUrl,children:[a.iconClasses&&e.jsx("i",{className:`mr-2 ${a.iconClasses}`,"aria-hidden":"true"}),e.jsx("span",{dangerouslySetInnerHTML:{__html:d(a.displayName)}})]})},a.alias))})]})}),children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx("div",{className:"py-2 px-4 sm:rounded-lg sm:px-6",children:s.password&&e.jsxs("form",{id:"kc-form-login",onSubmit:()=>(b(!0),!0),action:m.loginAction,method:"post",className:"space-y-6",children:[!n&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"username",children:s.loginWithEmailAllowed?s.registrationEmailAsUsername?r("email"):r("usernameOrEmail"):r("username")}),e.jsx(v,{tabIndex:2,id:"username",name:"username",defaultValue:l.username??"",type:"text",autoFocus:!0,autoComplete:"off",className:"h-10","aria-invalid":t.existsError("username")}),t.existsError("username")&&e.jsx(I,{variant:"destructive",children:e.jsx(w,{id:"input-error","aria-live":"polite",dangerouslySetInnerHTML:{__html:d(t.getFirstError("username"))}})})]}),e.jsxs("div",{className:"space-y-4",children:[s.rememberMe&&!n&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{id:"rememberMe",name:"rememberMe",defaultChecked:!!l.rememberMe,tabIndex:3}),e.jsx(c,{htmlFor:"rememberMe",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:r("rememberMe")})]}),e.jsx(N,{type:"submit",className:"w-full",disabled:f,tabIndex:4,children:g("doLogIn")})]})]})})})})}L.__docgenInfo={description:"",methods:[],displayName:"LoginUsername"};export{L as default};
