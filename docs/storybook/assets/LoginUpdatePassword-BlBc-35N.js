import{j as s}from"./jsx-runtime-Cf8x2fCZ.js";import{r as l}from"./index-BlmOqGMO.js";import{k as c}from"./kc.gen-DublLCkN.js";import{a as g}from"./assert-lEPzpKR_.js";import{B as p}from"./button-C_ykKUfv.js";import{I as x}from"./input-BUdNeJ3u.js";import{L as m}from"./label-CPZjyMp-.js";import{A as w,a as u}from"./alert-DzTKTOQa.js";import{C as j}from"./checkbox-D-RZ_Qko.js";import{E as v,a as y}from"./eye-DheIwJje.js";import"./index-yBjzXJbu.js";import"./iframe-DOGX7Igh.js";import"./index-Dv8KEsPl.js";import"./index-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./utils-CKXzwFwe.js";import"./createLucideIcon-C49h6iyD.js";import"./index-C6-d9oZJ.js";import"./index-RG4fqDpO.js";import"./index-fNjTmf9T.js";import"./index-Cnu3ZVWt.js";import"./index-De3Pmiai.js";import"./index-DZ2oWOeb.js";function N(t){const{kcContext:i,i18n:a,Template:n}=t,{msg:r,msgStr:o}=a,{url:d,messagesPerField:e,isAppInitiatedAction:f}=i;return s.jsx(n,{...t,displayMessage:!e.existsError("password","password-confirm"),headerNode:r("updatePasswordTitle"),children:s.jsx("div",{className:"w-full max-w-md",children:s.jsx("div",{className:"py-2 px-4 sm:rounded-lg sm:px-6",children:s.jsx("form",{id:"kc-passwd-update-form",action:d.loginAction,method:"post",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"password-new",className:"text-sm font-medium text-gray-700",children:r("passwordNew")}),s.jsx(h,{i18n:a,passwordInputId:"password-new",children:s.jsx(x,{id:"password-new",name:"password-new",type:"password",autoFocus:!0,autoComplete:"new-password",className:"h-10","aria-invalid":e.existsError("password","password-confirm")})}),e.existsError("password")&&s.jsx(w,{variant:"destructive",children:s.jsx(u,{id:"input-error-password","aria-live":"polite",dangerouslySetInnerHTML:{__html:c(e.get("password"))}})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"password-confirm",className:"text-sm font-medium text-gray-700",children:r("passwordConfirm")}),s.jsx(h,{i18n:a,passwordInputId:"password-confirm",children:s.jsx(x,{id:"password-confirm",name:"password-confirm",type:"password",autoComplete:"new-password",className:"h-10","aria-invalid":e.existsError("password","password-confirm")})}),e.existsError("password-confirm")&&s.jsx(w,{variant:"destructive",children:s.jsx(u,{id:"input-error-password-confirm","aria-live":"polite",dangerouslySetInnerHTML:{__html:c(e.get("password-confirm"))}})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(j,{id:"logout-sessions",name:"logout-sessions",defaultChecked:!0,value:"on"}),s.jsx(m,{htmlFor:"logout-sessions",className:"text-sm text-gray-700",children:r("logoutOtherSessions")})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(p,{type:"submit",className:"flex-1",children:o("doSubmit")}),f&&s.jsx(p,{type:"submit",name:"cancel-aia",value:"true",variant:"outline",className:"flex-1",children:r("doCancel")})]})]})]})})})})})}function h(t){const{i18n:i,passwordInputId:a,children:n}=t,{msgStr:r}=i,[o,d]=l.useReducer(e=>!e,!1);return l.useEffect(()=>{const e=document.getElementById(a);g(e instanceof HTMLInputElement),e.type=o?"text":"password"},[o]),s.jsxs("div",{className:"relative",children:[n,s.jsx(p,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:d,"aria-label":r(o?"hidePassword":"showPassword"),"aria-controls":a,children:o?s.jsx(v,{className:"h-4 w-4 text-gray-500"}):s.jsx(y,{className:"h-4 w-4 text-gray-500"})})]})}N.__docgenInfo={description:"",methods:[],displayName:"LoginUpdatePassword"};export{N as default};
