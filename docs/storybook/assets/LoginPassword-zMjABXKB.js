import{j as s}from"./jsx-runtime-Cf8x2fCZ.js";import{r as n}from"./index-BlmOqGMO.js";import{k as u}from"./kc.gen-DublLCkN.js";import{a as x}from"./assert-lEPzpKR_.js";import{B as w}from"./button-C_ykKUfv.js";import{I as h}from"./input-BUdNeJ3u.js";import{A as g,a as f}from"./alert-DzTKTOQa.js";import{L as j}from"./label-CPZjyMp-.js";import"./index-yBjzXJbu.js";import"./iframe-DOGX7Igh.js";import"./index-Dv8KEsPl.js";import"./index-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./utils-CKXzwFwe.js";import"./createLucideIcon-C49h6iyD.js";import"./index-C6-d9oZJ.js";import"./index-RG4fqDpO.js";import"./index-fNjTmf9T.js";function v(a){const{kcContext:i,i18n:o,Template:d}=a,{realm:l,url:e,messagesPerField:r}=i,{msg:t,msgStr:m}=o,[c,p]=n.useState(!1);return s.jsx(d,{...a,headerNode:t("doLogIn"),displayMessage:!r.existsError("password"),children:s.jsx("div",{className:"w-full max-w-md",children:s.jsx("div",{className:"py-2 px-4 sm:rounded-lg sm:px-6",children:s.jsxs("form",{id:"kc-form-login",onSubmit:()=>(p(!0),!0),action:e.loginAction,method:"post",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(j,{htmlFor:"password",children:t("password")}),s.jsx(I,{i18n:o,passwordInputId:"password",children:s.jsx(h,{tabIndex:2,id:"password",name:"password",type:"password",autoFocus:!0,autoComplete:"on",className:"h-10","aria-invalid":r.existsError("username","password")})}),r.existsError("password")&&s.jsx(g,{variant:"destructive",children:s.jsx(f,{id:"input-error-password","aria-live":"polite",dangerouslySetInnerHTML:{__html:u(r.get("password"))}})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:l.resetPasswordAllowed&&s.jsx("a",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",tabIndex:5,href:e.loginResetCredentialsUrl,children:t("doForgotPassword")})}),s.jsx(w,{type:"submit",className:"w-full",disabled:c,tabIndex:4,children:m("doLogIn")})]})]})})})})}function I(a){const{i18n:i,passwordInputId:o,children:d}=a,{msgStr:l}=i,[e,r]=n.useReducer(t=>!t,!1);return n.useEffect(()=>{const t=document.getElementById(o);x(t instanceof HTMLInputElement),t.type=e?"text":"password"},[e]),s.jsxs("div",{className:"relative",children:[d,s.jsxs("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5","aria-label":l(e?"hidePassword":"showPassword"),"aria-controls":o,onClick:r,children:[s.jsxs("svg",{className:`h-5 w-5 text-gray-400 ${e?"hidden":"block"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),s.jsxs("svg",{className:`h-5 w-5 text-gray-400 ${e?"block":"hidden"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:[s.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),s.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})]})]})}v.__docgenInfo={description:"",methods:[],displayName:"LoginPassword"};export{v as default};
