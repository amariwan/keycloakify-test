import{j as o}from"./jsx-runtime-Cf8x2fCZ.js";import{r as n}from"./index-BlmOqGMO.js";import{u as M}from"./index-Dv8KEsPl.js";import{c as O,a as P,P as T}from"./index-Cnu3ZVWt.js";import{u as A,a as B,C as H}from"./index-De3Pmiai.js";import{u as K}from"./index-DZ2oWOeb.js";import{P as N}from"./index-C6-d9oZJ.js";import{c as w}from"./utils-CKXzwFwe.js";import{L as z}from"./label-CPZjyMp-.js";var g="Checkbox",[F,se]=O(g),[W,X]=F(g),I=n.forwardRef((e,r)=>{const{__scopeCheckbox:t,name:l,checked:f,defaultChecked:a,required:m,disabled:d,value:b="on",onCheckedChange:k,form:u,...C}=e,[c,x]=n.useState(null),v=M(r,s=>x(s)),y=n.useRef(!1),E=c?u||!!c.closest("form"):!0,[p=!1,R]=A({prop:f,defaultProp:a,onChange:k}),q=n.useRef(p);return n.useEffect(()=>{const s=c==null?void 0:c.form;if(s){const h=()=>R(q.current);return s.addEventListener("reset",h),()=>s.removeEventListener("reset",h)}},[c,R]),o.jsxs(W,{scope:t,state:p,disabled:d,children:[o.jsx(N.button,{type:"button",role:"checkbox","aria-checked":i(p)?"mixed":p,"aria-required":m,"data-state":L(p),"data-disabled":d?"":void 0,disabled:d,value:b,...C,ref:v,onKeyDown:P(e.onKeyDown,s=>{s.key==="Enter"&&s.preventDefault()}),onClick:P(e.onClick,s=>{R(h=>i(h)?!0:!h),E&&(y.current=s.isPropagationStopped(),y.current||s.stopPropagation())})}),E&&o.jsx($,{control:c,bubbles:!y.current,name:l,value:b,checked:p,required:m,disabled:d,form:u,style:{transform:"translateX(-100%)"},defaultChecked:i(a)?!1:a})]})});I.displayName=g;var S="CheckboxIndicator",_=n.forwardRef((e,r)=>{const{__scopeCheckbox:t,forceMount:l,...f}=e,a=X(S,t);return o.jsx(T,{present:l||i(a.state)||a.state===!0,children:o.jsx(N.span,{"data-state":L(a.state),"data-disabled":a.disabled?"":void 0,...f,ref:r,style:{pointerEvents:"none",...e.style}})})});_.displayName=S;var $=e=>{const{control:r,checked:t,bubbles:l=!0,defaultChecked:f,...a}=e,m=n.useRef(null),d=K(t),b=B(r);n.useEffect(()=>{const u=m.current,C=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(C,"checked").set;if(d!==t&&x){const v=new Event("click",{bubbles:l});u.indeterminate=i(t),x.call(u,i(t)?!1:t),u.dispatchEvent(v)}},[d,t,l]);const k=n.useRef(i(t)?!1:t);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:f??k.current,...a,tabIndex:-1,ref:m,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function i(e){return e==="indeterminate"}function L(e){return i(e)?"indeterminate":e?"checked":"unchecked"}var D=I,G=_;const j=n.forwardRef(({className:e,...r},t)=>o.jsx(D,{ref:t,className:w("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:o.jsx(G,{className:w("flex items-center justify-center text-current"),children:o.jsx(H,{className:"h-4 w-4 "})})}));j.displayName=D.displayName;const J=({label:e,id:r,...t})=>o.jsxs("div",{className:"flex items-center space-x-4 py-3",children:[o.jsx(j,{id:r,name:r,...t}),o.jsx(z,{htmlFor:r,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e})]});j.__docgenInfo={description:"",methods:[]};J.__docgenInfo={description:"",methods:[],displayName:"CheckboxWithLabel",props:{label:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},id:{required:!0,tsType:{name:"string"},description:""}}};export{j as C,J as a};
