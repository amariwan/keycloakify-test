import{j as t}from"./jsx-runtime-Cf8x2fCZ.js";import{a as p}from"./assert-lEPzpKR_.js";import{g as f}from"./KcPage-Bf8_W5ld.js";import{u as g}from"./WebauthnRegister.useScript-B70RA2l4.js";import{B as d,b as y}from"./button-C_ykKUfv.js";import{I as i}from"./input-BUdNeJ3u.js";import{a as j}from"./checkbox-D-RZ_Qko.js";import{c as b}from"./utils-CKXzwFwe.js";import"./index-yBjzXJbu.js";import"./iframe-DOGX7Igh.js";import"./index-BlmOqGMO.js";import"./kc.gen-DublLCkN.js";import"./index-RG4fqDpO.js";import"./index-fNjTmf9T.js";import"./index-BdQq_4o_.js";import"./index-Cnu3ZVWt.js";import"./index-Dv8KEsPl.js";import"./dropdown-menu-6x-QXDHJ.js";import"./index-De3Pmiai.js";import"./createLucideIcon-C49h6iyD.js";import"./index-C6-d9oZJ.js";import"./index-xprPBo3d.js";import"./index-DZ2oWOeb.js";import"./mode-toggle-nGGCW_pk.js";import"./card-sF6WieIs.js";/* empty css              */import"./waitForElementMountedOnDom-YalKF7Os.js";import"./index-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./label-CPZjyMp-.js";function C(n){const{kcContext:e,i18n:s,doUseDefaultCss:r,Template:u,classes:a}=n,{kcClsx:o}=f({doUseDefaultCss:r,classes:a}),{url:c,isSetRetry:h,isAppInitiatedAction:x}=e,{msg:m,msgStr:l}=s;return g({authButtonId:"authenticateWebAuthnButton",kcContext:e,i18n:s}),t.jsxs(u,{kcContext:e,i18n:s,doUseDefaultCss:r,classes:a,headerNode:t.jsxs(t.Fragment,{children:[t.jsx("span",{className:o("kcWebAuthnKeyIcon")+" px-5"}),m("webauthn-registration-title")]}),children:[t.jsx("form",{id:"register",className:o("kcFormClass"),action:c.loginAction,method:"post",children:t.jsxs("div",{className:o("kcFormGroupClass"),children:[t.jsx(i,{type:"hidden",id:"clientDataJSON",name:"clientDataJSON"}),t.jsx(i,{type:"hidden",id:"attestationObject",name:"attestationObject"}),t.jsx(i,{type:"hidden",id:"publicKeyCredentialId",name:"publicKeyCredentialId"}),t.jsx(i,{type:"hidden",id:"authenticatorLabel",name:"authenticatorLabel"}),t.jsx(i,{type:"hidden",id:"transports",name:"transports"}),t.jsx(i,{type:"hidden",id:"error",name:"error"}),t.jsx(k,{kcClsx:o,i18n:s})]})}),t.jsxs("div",{className:"responsive-container",children:[t.jsx(d,{type:"submit",className:b(y({}),"w-full"),id:"registerWebAuthn",value:l("doRegisterSecurityKey"),onClick:()=>{p("registerSecurityKey"in window),p(typeof window.registerSecurityKey=="function"),window.registerSecurityKey()},children:l("doRegisterSecurityKey")}),!h&&x&&t.jsx("form",{action:c.loginAction,className:"all-unset w-full !p-0 ",id:"kc-webauthn-settings-form",method:"post",children:t.jsx(d,{type:"submit",variant:"outline",className:o("kcButtonClass","kcButtonDefaultClass","kcButtonBlockClass","kcButtonLargeClass")+" w-full",id:"cancelWebAuthnAIA",name:"cancel-aia",value:"true",children:m("doCancel")})})]})]})}function k(n){const{kcClsx:e,i18n:s}=n,{msg:r}=s;return t.jsx("div",{id:"kc-form-options",className:e("kcFormOptionsClass")+" space-y-4",children:t.jsx("div",{className:e("kcFormOptionsWrapperClass")+" flex items-center space-x-2",children:t.jsx(j,{id:"logout-sessions",name:"logout-sessions",value:"on",defaultChecked:!0,label:r("logoutOtherSessions")})})})}C.__docgenInfo={description:"",methods:[],displayName:"WebauthnRegister"};export{C as default};
