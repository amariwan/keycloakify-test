import{j as t}from"./jsx-runtime-Cf8x2fCZ.js";import{r as v}from"./index-BlmOqGMO.js";import{c as b}from"./kc.gen-DublLCkN.js";import{g as w}from"./KcPage-Bf8_W5ld.js";import{u as S}from"./WebauthnAuthenticate.useScript-CVnPzMr_.js";import{B as y}from"./button-C_ykKUfv.js";import{I as i}from"./input-BUdNeJ3u.js";import"./index-yBjzXJbu.js";import"./assert-lEPzpKR_.js";import"./iframe-DOGX7Igh.js";import"./index-RG4fqDpO.js";import"./index-fNjTmf9T.js";import"./index-BdQq_4o_.js";import"./index-Cnu3ZVWt.js";import"./index-Dv8KEsPl.js";import"./dropdown-menu-6x-QXDHJ.js";import"./index-De3Pmiai.js";import"./createLucideIcon-C49h6iyD.js";import"./index-C6-d9oZJ.js";import"./index-xprPBo3d.js";import"./utils-CKXzwFwe.js";import"./clsx-B-dksMZM.js";import"./index-DZ2oWOeb.js";import"./mode-toggle-nGGCW_pk.js";import"./card-sF6WieIs.js";/* empty css              */import"./waitForElementMountedOnDom-YalKF7Os.js";import"./index-Dp3B9jqt.js";function D(g){const{kcContext:l,i18n:o,doUseDefaultCss:m,Template:C,classes:h}=g,{kcClsx:e}=w({doUseDefaultCss:m,classes:h}),{url:u,realm:I,registrationDisabled:N,authenticators:c,shouldDisplayAuthenticators:f}=l,{msg:r,msgStr:p,advancedMsg:x}=o,j="authenticateWebAuthnButton";return S({authButtonId:j,kcContext:l,i18n:o}),t.jsx(C,{kcContext:l,i18n:o,doUseDefaultCss:m,classes:h,displayInfo:I.registrationAllowed&&!N,infoNode:t.jsx("div",{id:"kc-registration",children:t.jsxs("span",{children:[r("noAccount")," ",t.jsx("a",{tabIndex:6,href:u.registrationUrl,children:r("doRegister")})]})}),headerNode:r("webauthn-login-title"),children:t.jsxs("div",{id:"kc-form-webauthn",className:e("kcFormClass"),children:[t.jsxs("form",{id:"webauth",action:u.loginAction,method:"post",children:[t.jsx(i,{type:"hidden",id:"clientDataJSON",name:"clientDataJSON"}),t.jsx(i,{type:"hidden",id:"authenticatorData",name:"authenticatorData"}),t.jsx(i,{type:"hidden",id:"signature",name:"signature"}),t.jsx(i,{type:"hidden",id:"credentialId",name:"credentialId"}),t.jsx(i,{type:"hidden",id:"userHandle",name:"userHandle"}),t.jsx(i,{type:"hidden",id:"error",name:"error"})]}),t.jsxs("div",{className:b(e("kcFormGroupClass"),"no-bottom-margin"),children:[c&&t.jsxs(t.Fragment,{children:[t.jsx("form",{id:"authn_select",className:e("kcFormClass"),children:c.authenticators.map(s=>t.jsx(i,{type:"hidden",name:"authn_use_chk",value:s.credentialId},s.credentialId))}),f&&t.jsxs(t.Fragment,{children:[c.authenticators.length>1&&t.jsx("p",{className:e("kcSelectAuthListItemTitle"),children:r("webauthn-available-authenticators")}),t.jsx("div",{className:e("kcFormOptionsClass"),children:c.authenticators.map((s,n)=>{var k;return t.jsxs("div",{id:`kc-webauthn-authenticator-item-${n}`,className:e("kcSelectAuthListItemClass"),children:[t.jsx("div",{className:e("kcSelectAuthListItemIconClass"),children:t.jsx("i",{className:b((()=>{const a=e(s.transports.iconClass);return a===s.transports.iconClass?e("kcWebAuthnDefaultIcon"):a})(),e("kcSelectAuthListItemIconPropertyClass"))})}),t.jsxs("div",{className:e("kcSelectAuthListItemArrowIconClass"),children:[t.jsx("div",{id:`kc-webauthn-authenticator-label-${n}`,className:e("kcSelectAuthListItemHeadingClass"),children:x(s.label)}),((k=s.transports.displayNameProperties)==null?void 0:k.length)&&t.jsx("div",{id:`kc-webauthn-authenticator-transport-${n}`,className:e("kcSelectAuthListItemDescriptionClass"),children:s.transports.displayNameProperties.map((a,d,A)=>({displayNameProperty:a,hasNext:d!==A.length-1})).map(({displayNameProperty:a,hasNext:d})=>t.jsxs(v.Fragment,{children:[x(a),d&&t.jsx("span",{children:", "})]},a))}),t.jsxs("div",{className:e("kcSelectAuthListItemDescriptionClass"),children:[t.jsx("span",{id:`kc-webauthn-authenticator-createdlabel-${n}`,children:r("webauthn-createdAt-label")}),t.jsx("span",{id:`kc-webauthn-authenticator-created-${n}`,children:s.createdAt})]}),t.jsx("div",{className:e("kcSelectAuthListItemFillClass")})]})]},n)})})]})]}),t.jsx("div",{id:"kc-form-buttons",className:e("kcFormButtonsClass"),children:t.jsx(y,{id:j,value:p("webauthn-doAuthenticate"),className:e("kcButtonClass","kcButtonDefaultClass","kcButtonBlockClass","kcButtonLargeClass")+" w-full",children:p("webauthn-doAuthenticate")})})]})]})})}D.__docgenInfo={description:"",methods:[],displayName:"WebauthnAuthenticate"};export{D as default};
