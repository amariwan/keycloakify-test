import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{r as f}from"./index-BlmOqGMO.js";import{k}from"./kc.gen-DublLCkN.js";import{B as j}from"./button-C_ykKUfv.js";import{C as F}from"./checkbox-D-RZ_Qko.js";import{A as T,a as P}from"./alert-DzTKTOQa.js";import"./index-yBjzXJbu.js";import"./assert-lEPzpKR_.js";import"./iframe-DOGX7Igh.js";import"./index-Dv8KEsPl.js";import"./index-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./utils-CKXzwFwe.js";import"./createLucideIcon-C49h6iyD.js";import"./index-Cnu3ZVWt.js";import"./index-De3Pmiai.js";import"./index-DZ2oWOeb.js";import"./index-C6-d9oZJ.js";import"./index-RG4fqDpO.js";import"./index-fNjTmf9T.js";import"./label-CPZjyMp-.js";function S(r){const{kcContext:a,i18n:s,Template:o,UserProfileFormFields:c,doMakeUserConfirmPassword:t}=r,{messageHeader:i,url:n,messagesPerField:l,recaptchaRequired:p,recaptchaVisible:x,recaptchaSiteKey:u,recaptchaAction:m,termsAcceptanceRequired:g}=a,{msg:d,msgStr:y,advancedMsg:b}=s,[A,N]=f.useState(!1),[h,v]=f.useState(!1);return e.jsx(o,{...r,headerNode:i!==void 0?b(i):d("registerTitle"),displayMessage:l.exists("global"),children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx("div",{className:"py-2 px-4 sm:rounded-lg sm:px-6",children:e.jsxs("form",{id:"kc-register-form",className:"space-y-6",action:n.registrationAction,method:"post",children:[e.jsx(c,{kcContext:a,i18n:s,onIsFormSubmittableValueChange:N,doMakeUserConfirmPassword:t,kcClsx:()=>""}),g&&e.jsx(C,{i18n:s,messagesPerField:l,areTermsAccepted:h,onAreTermsAcceptedValueChange:v}),p&&(x||m===void 0)&&e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"g-recaptcha","data-size":"compact","data-sitekey":u,"data-action":m})}),e.jsxs("div",{className:"flex flex-col space-y-4 pt-4",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("a",{href:n.loginUrl,className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:d("backToLogin")})}),p&&!x&&m!==void 0?e.jsx(j,{className:"w-full g-recaptcha","data-sitekey":u,"data-callback":()=>{document.getElementById("kc-register-form").submit()},"data-action":m,type:"submit",children:d("doRegister")}):e.jsx(j,{type:"submit",className:"w-full",disabled:!A||g&&!h,children:y("doRegister")})]})]})})})})}function C(r){const{i18n:a,messagesPerField:s,areTermsAccepted:o,onAreTermsAcceptedValueChange:c}=r,{msg:t}=a;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-md bg-gray-50 p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:t("termsTitle")}),e.jsx("div",{className:"text-sm text-gray-700",id:"kc-registration-terms-text",children:t("termsText")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"termsAccepted",name:"termsAccepted",checked:o,onCheckedChange:i=>c(i),"aria-invalid":s.existsError("termsAccepted")}),e.jsx("label",{htmlFor:"termsAccepted",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:t("acceptTerms")})]}),s.existsError("termsAccepted")&&e.jsx(T,{variant:"destructive",children:e.jsx(P,{id:"input-error-terms-accepted","aria-live":"polite",dangerouslySetInnerHTML:{__html:k(s.get("termsAccepted"))}})})]})}S.__docgenInfo={description:"",methods:[],displayName:"Register",props:{UserProfileFormFields:{required:!0,tsType:{name:"LazyOrNot",elements:[{name:"signature",type:"function",raw:"(props: UserProfileFormFieldsProps) => JSX.Element",signature:{arguments:[{type:{name:"UserProfileFormFieldsProps"},name:"props"}],return:{name:"JSX.Element"}}}],raw:"LazyOrNot<(props: UserProfileFormFieldsProps) => JSX.Element>"},description:""},doMakeUserConfirmPassword:{required:!0,tsType:{name:"boolean"},description:""}}};export{S as default};
