import{j as s}from"./jsx-runtime-Cf8x2fCZ.js";import{g}from"./KcPageStory-BD8iT_7d.js";import"./index-yBjzXJbu.js";import"./kc.gen-DublLCkN.js";import"./assert-lEPzpKR_.js";import"./index-BlmOqGMO.js";import"./iframe-DOGX7Igh.js";function G(d){const{kcContext:c,i18n:i,doUseDefaultCss:a,classes:h,Template:o}=d,{kcClsx:x}=g({doUseDefaultCss:a,classes:h}),{url:b,applications:{applications:u},stateChecker:m}=c,{msg:n,advancedMsg:l}=i;return s.jsx(o,Object.assign({},{kcContext:c,i18n:i,doUseDefaultCss:a,classes:h},{active:"applications"},{children:s.jsxs("div",Object.assign({className:"row"},{children:[s.jsx("div",Object.assign({className:"col-md-10"},{children:s.jsx("h2",{children:n("applicationsHtmlTitle")})})),s.jsxs("form",Object.assign({action:b.applicationsUrl,method:"post"},{children:[s.jsx("input",{type:"hidden",id:"stateChecker",name:"stateChecker",value:m}),s.jsx("input",{type:"hidden",id:"referrer",name:"referrer",value:m}),s.jsxs("table",Object.assign({className:"table table-striped table-bordered"},{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("td",{children:n("application")}),s.jsx("td",{children:n("availableRoles")}),s.jsx("td",{children:n("grantedPermissions")}),s.jsx("td",{children:n("additionalGrants")}),s.jsx("td",{children:n("action")})]})}),s.jsx("tbody",{children:u.map(e=>s.jsxs("tr",{children:[s.jsxs("td",{children:[e.effectiveUrl&&s.jsx("a",Object.assign({href:e.effectiveUrl},{children:e.client.name&&l(e.client.name)||e.client.clientId})),!e.effectiveUrl&&(e.client.name&&l(e.client.name)||e.client.clientId)]}),s.jsxs("td",{children:[!j(e.realmRolesAvailable)&&e.realmRolesAvailable.map((t,r)=>s.jsxs("span",{children:[t.description?l(t.description):l(t.name),r<e.realmRolesAvailable.length-1&&", "]},t.name)),e.resourceRolesAvailable&&Object.keys(e.resourceRolesAvailable).map(t=>s.jsxs("span",{children:[!j(e.realmRolesAvailable)&&", ",e.resourceRolesAvailable[t].map(r=>s.jsxs("span",{children:[r.roleDescription?l(r.roleDescription):l(r.roleName)," ",n("inResource")," ",s.jsx("strong",{children:r.clientName?l(r.clientName):r.clientId}),r!==e.resourceRolesAvailable[t][e.resourceRolesAvailable[t].length-1]&&", "]},r.roleName))]},t))]}),s.jsx("td",{children:e.client.consentRequired?e.clientScopesGranted.map(t=>s.jsxs("span",{children:[l(t),t!==e.clientScopesGranted[e.clientScopesGranted.length-1]&&", "]},t)):s.jsx("strong",{children:n("fullAccess")})}),s.jsx("td",{children:e.additionalGrants.map(t=>s.jsxs("span",{children:[l(t),t!==e.additionalGrants[e.additionalGrants.length-1]&&", "]},t))}),s.jsx("td",{children:e.client.consentRequired&&e.clientScopesGranted.length>0||e.additionalGrants.length>0?s.jsx("button",Object.assign({type:"submit",className:x("kcButtonPrimaryClass","kcButtonClass"),id:`revoke-${e.client.clientId}`,name:"clientId",value:e.client.id},{children:n("revoke")})):null})]},e.client.clientId))})]}))]}))]}))}))}function j(d){return Array.isArray(d)&&d.length===1&&typeof d[0]=="object"&&Object.keys(d[0]).length===0}export{G as default};
